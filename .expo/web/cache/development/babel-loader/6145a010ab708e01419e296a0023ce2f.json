{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Camera } from 'expo-camera';\nimport * as ImagePicker from 'expo-image-picker';\nexport default function App() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasGalleryPermission = _useState2[0],\n      setHasGalleryPermission = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hasCameraPermission = _useState4[0],\n      setHasCameraPermission = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      camera = _useState6[0],\n      setCamera = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      image = _useState8[0],\n      setImage = _useState8[1];\n\n  var _useState9 = useState(Camera.Constants.Type.back),\n      _useState10 = _slicedToArray(_useState9, 2),\n      type = _useState10[0],\n      setType = _useState10[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var cameraStatus, galleryStatus;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestPermissionsAsync());\n\n            case 2:\n              cameraStatus = _context.sent;\n              console.log(cameraStatus);\n              setHasCameraPermission(cameraStatus.status === 'granted');\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(ImagePicker.requestCameraRollPermissionAsync());\n\n            case 7:\n              galleryStatus = _context.sent;\n              setHasGalleryPermission(galleryStatus.status === 'granted');\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var takePicture = function takePicture() {\n    var data;\n    return _regeneratorRuntime.async(function takePicture$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!camera) {\n              _context2.next = 6;\n              break;\n            }\n\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(camera.takePictureAsync(null));\n\n          case 3:\n            data = _context2.sent;\n            console.log(data.uri);\n            setImage(data.uri);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var pickImage = function pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function pickImage$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              aspect: [1, 1],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context3.sent;\n            console.log(result);\n\n            if (!result.cancelled) {\n              setImage(result.uri);\n            }\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  if (hasCameraPermission === null || hasGalleryPermission === false) {\n    return React.createElement(View, null);\n  }\n\n  if (hasCameraPermission === false || hasGalleryPermission === false) {\n    return React.createElement(Text, null, \"No access to camera\");\n  }\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(View, {\n    style: styles.cameraContainer\n  }, React.createElement(Camera, {\n    ref: function ref(_ref) {\n      return setCamera(_ref);\n    },\n    style: styles.fixedRatio,\n    type: type,\n    ratio: '1:1'\n  })), React.createElement(Button, {\n    style: styles.button,\n    title: \"Flip Image\",\n    onPress: function onPress() {\n      setType(type === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back);\n    }\n  }, React.createElement(Text, {\n    style: styles.text\n  }, \" Flip \")), React.createElement(Button, {\n    title: \"Take Picture\",\n    onPress: function onPress() {\n      return takePicture();\n    }\n  }), React.createElement(Button, {\n    title: \"Pick Image From Gallery\",\n    onPress: function onPress() {\n      return pickImage();\n    }\n  }), image && React.createElement(Image, {\n    source: {\n      uri: image\n    },\n    style: {\n      flex: 1,\n      backgroundColor: 'red'\n    }\n  }));\n}\n;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  camera: {\n    flex: 1\n  },\n  buttonContainer: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    margin: 20\n  },\n  button: {\n    flex: 0.1,\n    alignSelf: 'flex-end',\n    alignItems: 'center'\n  },\n  text: {\n    fontSize: 18,\n    color: 'white'\n  },\n  cameraContainer: {\n    flex: 1\n  },\n  fixedRatio: {\n    flex: 1,\n    aspectRatio: 1\n  }\n});","map":{"version":3,"sources":["/Users/tayyaba/Desktop/zenkoders/Faizan/React_Native/Instagram/components/main/Add.js"],"names":["React","useState","useEffect","Camera","ImagePicker","App","hasGalleryPermission","setHasGalleryPermission","hasCameraPermission","setHasCameraPermission","camera","setCamera","image","setImage","Constants","Type","back","type","setType","requestPermissionsAsync","cameraStatus","console","log","status","requestCameraRollPermissionAsync","galleryStatus","takePicture","takePictureAsync","data","uri","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","result","cancelled","styles","container","cameraContainer","ref","fixedRatio","button","front","text","flex","backgroundColor","StyleSheet","create","buttonContainer","flexDirection","margin","alignSelf","alignItems","fontSize","color","aspectRatio"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StyleSheet, Text, View, TouchableOpacity ,Button ,Image } from 'react-native';\nimport { Camera } from 'expo-camera';\nimport * as ImagePicker from 'expo-image-picker';\n\nexport default function App() {\n    const [hasGalleryPermission, setHasGalleryPermission] = useState(null);\n    const [hasCameraPermission, setHasCameraPermission] = useState(null);\n    const [camera, setCamera] = useState(null);\n    const [image, setImage] = useState(null);\n    const [type, setType] = useState(Camera.Constants.Type.back);\n\n    useEffect(() => {\n        (async () => {\n            const  cameraStatus  = await Camera.requestPermissionsAsync();\n            console.log(cameraStatus);\n            setHasCameraPermission(cameraStatus.status === 'granted');\n\n           const  galleryStatus = await ImagePicker.requestCameraRollPermissionAsync();\n           setHasGalleryPermission(galleryStatus.status === 'granted');\n\n        })();\n    }, []);\n\n    const takePicture = async () => {\n         // console.log(camera);\n\n          if(camera) {\n              const data = await camera.takePictureAsync(null);\n              console.log(data.uri);\n              setImage(data.uri);\n          }\n\n\n    }\n\n    const pickImage = async () => {\n    // No permissions request is necessary for launching the image library\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 1,\n    });\n\n    console.log(result);\n\n    if (!result.cancelled) {\n      setImage(result.uri);\n    }\n  };\n\n\n    if (hasCameraPermission === null || hasGalleryPermission === false) {\n        return <View />;\n    }\n    if (hasCameraPermission === false || hasGalleryPermission === false) {\n        return <Text>No access to camera</Text>;\n    }\n    return (\n        <View style={styles.container}>\n            <View style={styles.cameraContainer}>\n                <Camera \n                ref= {ref => setCamera(ref)}\n                style={styles.fixedRatio} \n                type={type} \n                ratio={'1:1'}\n                />\n            </View>\n\n            <Button\n                style={styles.button}\n                title=\"Flip Image\"\n                onPress={() => {\n                    setType(\n                        type === Camera.Constants.Type.back\n                            ? Camera.Constants.Type.front\n                            : Camera.Constants.Type.back\n                    );\n                }}>\n                <Text style={styles.text}> Flip </Text>\n                </Button>\n            \n            <Button title=\"Take Picture\" onPress={() => takePicture()} />\n            <Button title=\"Pick Image From Gallery\" onPress={() => pickImage()} />\n\n            {image && <Image source={{uri: image}} style={{flex: 1 ,backgroundColor: 'red'}}/>}\n            \n        </View> \n    )};   \n\nconst styles = StyleSheet.create({\n            container: {\n                flex: 1,\n            },\n            camera: {\n                flex: 1,\n            },\n            buttonContainer: {\n                flex: 1,\n                backgroundColor: 'transparent',\n                flexDirection: 'row',\n                margin: 20,\n            },\n            button: {\n                flex: 0.1,\n                alignSelf: 'flex-end',\n                alignItems: 'center',\n            },\n            text: {\n                fontSize: 18,\n                color: 'white',\n            },\n\n            cameraContainer:{\n                flex: 1        \n            },\n            fixedRatio: {\n                flex: 1,\n                aspectRatio: 1\n            }\n        });"]},"metadata":{},"sourceType":"module"}