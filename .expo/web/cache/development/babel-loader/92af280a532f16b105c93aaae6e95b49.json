{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { USERS_DATA_STATE_CHANGE, USERS_POSTS_STATE_CHANGE, CLEAR_DATA, USERS_LIKES_STATE_CHANGE } from \"../constants\";\nvar initialState = {\n  users: [],\n  feed: [],\n  usersFollowingLoaded: 0\n};\nexport var users = function users() {\n  var _state$feed;\n\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(\"state1222\", state.feed);\n\n  switch (action.type) {\n    case USERS_DATA_STATE_CHANGE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        users: [].concat(_toConsumableArray(state.users), [action.user])\n      });\n\n    case USERS_POSTS_STATE_CHANGE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        usersFollowingLoaded: state.usersFollowingLoaded + 1,\n        feed: [].concat(_toConsumableArray(state.feed), _toConsumableArray(action.posts))\n      });\n\n    case USERS_LIKES_STATE_CHANGE:\n      console.log('abcd');\n      return _objectSpread(_objectSpread({}, state), {}, {\n        feed: (_state$feed = state.feed) == null ? void 0 : _state$feed.map(function (post) {\n          return post.id == action.postId ? _objectSpread(_objectSpread({}, post), {}, {\n            currentUserLike: action.currentUserLike\n          }) : {\n            abc: 12345\n          };\n        })\n      });\n\n    case CLEAR_DATA:\n      {\n        return initialState;\n      }\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/tayyaba/Desktop/zenkoders/Faizan/Instagram/redux/reducers/users.js"],"names":["USERS_DATA_STATE_CHANGE","USERS_POSTS_STATE_CHANGE","CLEAR_DATA","USERS_LIKES_STATE_CHANGE","initialState","users","feed","usersFollowingLoaded","state","action","console","log","type","user","posts","map","post","id","postId","currentUserLike","abc"],"mappings":";;;;;;;AAAA,SACEA,uBADF,EAEEC,wBAFF,EAGEC,UAHF,EAGaC,wBAHb;AAMA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE,EADY;AAEnBC,EAAAA,IAAI,EAAE,EAFa;AAGnBC,EAAAA,oBAAoB,EAAE;AAHH,CAArB;AAMA,OAAO,IAAMF,KAAK,GAAG,SAARA,KAAQ,GAAkC;AAAA;;AAAA,MAAjCG,KAAiC,uEAAzBJ,YAAyB;AAAA,MAAXK,MAAW;AACnDC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBH,KAAK,CAACF,IAA9B;;AACF,UAAQG,MAAM,CAACG,IAAf;AACE,SAAKZ,uBAAL;AACE,6CACKQ,KADL;AAEEH,QAAAA,KAAK,+BAAMG,KAAK,CAACH,KAAZ,IAAmBI,MAAM,CAACI,IAA1B;AAFP;;AAMF,SAAKZ,wBAAL;AACE,6CACKO,KADL;AAEED,QAAAA,oBAAoB,EAAEC,KAAK,CAACD,oBAAN,GAA6B,CAFrD;AAIED,QAAAA,IAAI,+BAAKE,KAAK,CAACF,IAAX,sBAAoBG,MAAM,CAACK,KAA3B;AAJN;;AAOF,SAAKX,wBAAL;AACEO,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AAEA,6CACKH,KADL;AAEGF,QAAAA,IAAI,iBAAEE,KAAK,CAACF,IAAR,qBAAE,YAAYS,GAAZ,CAAgB,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACC,EAAL,IAAWR,MAAM,CAACS,MAAlB,mCACpBF,IADoB;AACfG,YAAAA,eAAe,EAAEV,MAAM,CAACU;AADT,eAG1B;AAACC,YAAAA,GAAG,EAAC;AAAL,WAHsB;AAAA,SAApB;AAFT;;AAYF,SAAKlB,UAAL;AAAiB;AACf,eAAOE,YAAP;AACD;;AAED;AACE,aAAOI,KAAP;AApCJ;AAsCD,CAxCM","sourcesContent":["import {\n  USERS_DATA_STATE_CHANGE,\n  USERS_POSTS_STATE_CHANGE,\n  CLEAR_DATA,USERS_LIKES_STATE_CHANGE\n} from \"../constants\";\n\nconst initialState = {\n  users: [],\n  feed: [],\n  usersFollowingLoaded: 0,\n};\n\nexport const users = (state = initialState, action) => {\n    console.log(\"state1222\",state.feed)\n  switch (action.type) {\n    case USERS_DATA_STATE_CHANGE:\n      return {\n        ...state,\n        users: [...state.users, action.user],\n        // action.user\n      };\n\n    case USERS_POSTS_STATE_CHANGE:\n      return {\n        ...state,\n        usersFollowingLoaded: state.usersFollowingLoaded + 1,\n        \n        feed:[...state.feed, ...action.posts],\n      };\n\n    case USERS_LIKES_STATE_CHANGE:\n      console.log('abcd',);\n      \n      return {\n        ...state,        \n         feed: state.feed?.map(post => post.id == action.postId ? \n               {...post,currentUserLike: action.currentUserLike} : \n             //post \n             {abc:12345}\n             )\n        \n      };\n\n      \n\n    case CLEAR_DATA: {\n      return initialState;\n    }\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}